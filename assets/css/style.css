/* =========================================
   Design Tokens
   ========================================= */
:root {
  /* Colors */
  --color-ink: hsl(0 0% 10%); /* Primary dark text/ui color */
  --color-ink-muted: hsl(0 0% 45%); /* Muted dark text/ui color */
  --color-paper: hsl(36, 21%, 65%); /* Mid-tone background/accent */
  --color-soft: hsl(0 0% 96%); /* Lightest background/accent */
  --color-brand: hsl(350, 80%, 30%); /* darkred -> converted to HSL for consistency */
  --color-focus-ring: hsl(0 72% 56%); /* Bright red for focus states */
  --color-background-light: hsl(43, 40%, 92%); /* Formerly navajo-white-light */
  --color-background-mid: hsl(38, 45%, 75%); /* Formerly navajo-white-dark */
  --color-background-paper: hsl(45, 30%, 94%); /* Formerly ivory-inspired */
  --color-border-subtle: hsl(0 0% 92%); /* Consistent subtle border color */

  /* Navigation Colors (consolidated to use 'color-brand' as base) */
  --color-nav-link: var(--color-brand);
  --color-nav-link-hover: hsl(350, 80%, 45%); /* Slightly lighter brand on hover */
  --color-nav-link-active: hsl(350, 80%, 55%); /* Even lighter/more vibrant when active */

  /* Typography */
  --font-family-base: 'Montserrat', ui-sans-serif, system-ui, -apple-system, sans-serif;
  --font-family-display: 'Montserrat', sans-serif; /* If display needs distinct properties */
  --font-family-title: 'Poiret One', sans-serif;
  --font-family-script: 'Bonheur Royale', cursive;

  /* Font Sizes */
  --font-size-base: 1.1rem; /* Base for rem calculations */
  --font-size-small: 0.95rem;
  --font-size-body: 1.125rem; /* For p.section-format and p.body-paragraphs */
  --font-size-h2: 1.51rem; /* For .page-title-container h2 */

  /* Headings Clamp Values (scaled and rounded from your previous inputs) */
  --font-size-h1-clamp: clamp(2.25rem, 5.4vw, 3.5rem); /* Scaled .9 from 2.5rem, 6vw, 4rem */
  --font-size-h3-clamp: clamp(
    2.25rem,
    5.4vw,
    3.5rem
  ); /* Consolidate with h1 if they are the same visual scale */
  --font-size-sub-title-clamp: clamp(5rem, 12vw, 8rem);
  --font-size-dropcap-clamp: clamp(3.2rem, 8vw, 5rem);
  --font-size-portfolio-text: 1.2rem;

  /* Layout */
  --spacing-xs: 0.5rem;
  --spacing-sm: 0.75rem;
  --spacing-md: 1rem;
  --spacing-lg: 2rem;
  --spacing-xl: 3rem;
  --spacing-xxl: 4rem;

  --gap-fluid: clamp(0.75rem, 2vw, 1.25rem); /* Formerly --gap */
  --max-width-wide: clamp(16rem, 90vw, 1200px); /* Formerly --wide */
  --max-width-narrow: 80ch; /* Formerly --narrow-max */
  --header-height: 2.5rem; /* Define a consistent header height */

  /* Motion */
  --transition-speed-base: 280ms;
  --transition-easing-ease-out: cubic-bezier(0.22, 0.61, 0.36, 1);
  --transition-opacity: opacity 1.5s ease-in-out;

  /* Border Radii */
  --border-radius-base: 0.25rem;
  --border-radius-medium: 8px; /* For slideshow */
}

/* =========================================
   Base / Resets
   ========================================= */
*,
*::before,
*::after {
  box-sizing: border-box; /* Apply to all elements */
}

html {
  height: 100%;
  scroll-behavior: smooth;
  font-size: var(--font-size-base); /* Base font size for rem calculations */
}

body {
  min-height: 100vh; /* Use 100vh for full viewport height */
  background-color: var(--color-background-paper); /* Consolidated color token */
  color: var(--color-ink);
  font-family: var(--font-family-base);
  line-height: 1.6;
  text-rendering: optimizeLegibility;
  margin: 0; /* Remove default body margin */
}

img,
svg,
video {
  height: auto;
  max-width: 100%;
  display: block; /* Prevents extra space below images */
}

/* Accessibility: Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation: none !important;
    transition: none !important;
    scroll-behavior: auto !important;
  }
}

/* =========================================
   Utilities
   ========================================= */
.u-visually-hidden {
  /* Prefix with u- for utility class */
  position: absolute !important;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  border: 0;
  overflow: hidden;
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  white-space: nowrap;
}

.u-full-bleed {
  /* Prefix with u- for utility class */
  margin-inline: calc(50% - 50vw);
  width: 100vw;
}

/* Accessible focus outline */
:where(a, button, [tabindex]:not([tabindex='-1']), input, textarea, select):focus-visible {
  outline: 3px solid var(--color-focus-ring);
  outline-offset: 2px;
  border-radius: var(--border-radius-base); /* Ensure consistent focus ring shape */
}

/* Skip link */
.skip-link {
  position: absolute;
  inset-inline-start: var(--spacing-xs); /* Use logical property */
  inset-block-start: var(--spacing-xs); /* Use logical property */
  transform: translateY(-200%);
  background: var(--color-ink); /* Use design token */
  color: var(--color-soft); /* Use design token */
  padding: var(--spacing-xs) var(--spacing-sm); /* Use design tokens */
  z-index: 1000;
  border-radius: var(--border-radius-base); /* Use design token */
  text-decoration: none;
  transition: transform var(--transition-speed-base) var(--transition-easing-ease-out); /* Add transition */
}
.skip-link:focus-visible {
  transform: none;
}

/* =========================================
   Page Shell
   ========================================= */

.hero {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: auto;
  background-color: var(--color-primary);
  color: var(--color-soft);
  text-align: center;
  position: relative;
  z-index: 0;
}

.page-content-wrapper {
  width: 100%;
  max-width: var(--max-width-wide); /* Use design token */
  margin-inline: auto;
  padding: var(--spacing-md) var(--spacing-lg); /* Use design tokens */
}

.page-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-block-end: var(--spacing-lg); /* Use logical property and design token */
  padding-block-end: var(--spacing-md); /* Use logical property and design token */
  border-block-end: 1px solid var(--color-border-subtle); /* Use design token */
}

.page-title-container h2 {
  margin: 0;
  font-family: var(--font-family-display);
  color: var(--color-ink-muted);
  font-weight: 400;
  font-size: var(--font-size-h2); /* Use design token */
}

/* =========================================
   Typography
   ========================================= */
h1,
h2,
h3 {
  font-family: var(--font-family-display);
  line-height: 1.2; /* Better readability for headings */
  margin-top: 0; /* Reset default browser margins for consistency */
  margin-bottom: var(--spacing-sm); /* Consistent bottom margin */
}

/* The original .page-title was `display: none;`, keeping it as such but if it's meant to be used, consider removing the display:none */
.page-title {
  display: none;
}

h1.title {
  font-family: var(--font-family-title);
  font-size: var(--font-size-h1-clamp);
  font-weight: 500;
  text-align: center;
  color: var(--color-brand);
  margin: 0;
  line-height: 1;
}

h3.title {
  font-family: var(--font-family-title);
  font-size: var(--font-size-h3-clamp); /* If you need h3 to be the same scale as h1 */
  font-weight: 500;
  text-align: center;
  color: var(--color-brand);
  margin: 0;
  line-height: 1;
}
/* IMPORTANT: If you want h1.title and h3.title to share font-size,
   you can consolidate them like:
   h1.title, h3.title {
       font-family: var(--font-family-title);
       font-size: var(--font-size-heading-clamp); // Create a generic token
       ...
   }
   If h3 should be smaller than h1, adjust its clamp values specifically.
*/

.sub-title {
  font-family: var(--font-family-script);
  font-size: var(--font-size-sub-title-clamp);
  font-weight: 200;
  letter-spacing: -0.02em;
  text-align: center;
  margin: 0; /* No default margin */
  color: var(--color-ink); /* Default to ink, or a specific sub-title color if desired */
  line-height: 1;
}

#portfolio-heading {
  display: none;
}

.body-paragraphs {
  position: relative; /* Consider if 'relative' is truly needed */
  left: -1vw; /* Consider if this offset is always desired; might be better to use padding/margin */
  top: 0; /* Redundant if position is relative and top is 0 */
  display: flex;
  flex-direction: column;
  align-items: center;
  width: min(100%, var(--max-width-narrow)); /* Use design token */
  margin-inline: auto;
  font-family: var(--font-family-base);
  text-align: justify;
}

.section-format p,
.body-paragraphs p {
  font-weight: 400;
  text-align: start; /* Redundant as start is default for ltr text */
  max-width: 80%; /* Consider if this should be a fluid `ch` value based on narrow-max */
  font-size: var(--font-size-body); /* Use design token */
  line-height: 1.6; /* Ensure consistent line height */
}
.dropcap {
  float: left;
  font-family: --font-family-script
  font-weight: 700;
  font-size: clamp(3.2rem, 8vw, 5rem);
  line-height: 0.9;
  margin-right: 0.25em;
  padding-top: 0.08em;
  color: var(--brand);
  min-width: 1ch;
  text-decoration: none;
  font-variant-ligatures: none;
}
.dropcap:hover {
  color: var(--focus-ring);
}
.dropcap:focus-visible {
  outline: 3px solid var(--focus-ring);
  outline-offset: 3px;
  border-radius: 0.2rem;
}

/* =========================================
   Main Layout & Components
   ========================================= */
.container {
  max-width: var(--max-width-wide);
  margin: 0 auto;
  padding: var(--spacing-xs); /* Use design token */
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

.portfolio-text {
  font-family: var(--font-family-display);
  font-weight: 600;
  font-size: var(--font-size-portfolio-text);
  color: var(--color-brand);
  margin: 0;
}

.slideshow-container {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  position: relative;
  width: var(--max-width-wide); /* Use design token */
}

.slideshow {
  width: var(--max-width-wide); /* Use design token */
  height: auto;
  aspect-ratio: 16/9;
  max-height: 90vh;
  background-color: var(--color-paper); /* Use design token */
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2em; /* This font-size likely affects fallback text if images don't load */
  overflow: hidden;
  border-radius: var(--border-radius-medium); /* Use design token */
  box-shadow: 0 4px 8px rgb(0 0 0 / 0.1);
  position: relative;
}

/* Prev/Next buttons */
.prev-next.circle {
  background-color: var(--color-brand);
  color: white; /* Use var(--color-soft) or var(--color-paper) if white is not a token */
  border: none;
  border-radius: 50%;
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: 1.5em;
  padding: 0;
  transition: background-color var(--transition-speed-base) var(--transition-easing-ease-out); /* Use design tokens */
  z-index: 10;
}
.prev-next.circle:hover {
  background-color: var(--color-focus-ring);
}
.prev-next-icon {
  width: 30px;
  height: auto;
  filter: invert(100%); /* Good for ensuring icon visibility on dark background */
}

.caption {
  text-align: center;
  padding: var(--spacing-md) 0; /* Use design token */
  font-style: italic;
  color: var(--color-ink-muted); /* Use design token */
}

.site-footer {
  padding-block: var(--spacing-xl) var(--spacing-lg); /* Use logical property and design tokens */
  color: var(--color-ink-muted);
  text-align: center;
  font-size: var(--font-size-small); /* Use design token */
  border-top: 1px solid var(--color-border-subtle); /* Use design token */
  margin-top: var(--spacing-xxl); /* Use design token */
}
.site-footer p {
  margin: 0;
}

/* =========================================
   Media Queries
   ========================================= */
@media (max-width: 768px) {
  .slideshow {
    max-height: 50vh;
  }
  .prev-next.circle {
    width: 50px;
    height: 50px;
  }
  .prev-next-icon {
    width: 25px;
  }
  .page-content-wrapper {
    padding: var(--spacing-md) var(--spacing-md); /* Adjust padding for smaller screens */
  }
}
@media (max-width: 480px) {
  .slideshow {
    max-height: 40vh;
  }
  .site-footer {
    padding-block: var(--spacing-lg) var(--spacing-md);
  }
}

/* =========================================
   Navigation
   ========================================= */
.site-header {
  width: 100%;
  text-align: center;
  margin-block-end: 1vh; /* Use logical property and consider fixed rem/vw instead of vh for consistency */
}

.top-grid {
  display: flex;
  justify-content: space-between;
  width: 96vw;
  height: var(--header-height); /* Use design token for consistent height */
  margin: 0 auto;
  align-items: center;
  font-family: var(--font-family-base); /* Using base font, assuming UI is similar */
  gap: var(--spacing-xs); /* Use design token */
  flex-wrap: wrap;
  min-height: var(--header-height); /* Ensure min-height matches for consistency */
  padding-inline: var(--spacing-md); /* Add some padding to edges */
}

.galleries {
  display: none;
}

.top-grid .left {
  width: 35vw; /* Consider fluid widths or flex-grow for better responsiveness */
  text-align: left;
  flex-shrink: 1; /* Allow to shrink if needed */
}
.top-grid .mid {
  /* flex: 1 1 auto; is a good base for growth */
  display: flex;
  align-items: center;
  justify-content: space-around;
  flex: 1 1 min(240px, 100%); /* min() function for better flexible sizing */
  /* width: 30vw; - Removed, let flex handle this */
}

/* Generic `a` tag styling should be as minimal as possible.
   Prefer targeting specific link types, e.g., `.nav-link`, `.button-link`.
   However, for global defaults, this is acceptable. */
a {
  text-decoration: none;
  color: var(--color-nav-link); /* Use consolidated nav link token */
  transition: color var(--transition-speed-base) var(--transition-easing-ease-out),
    transform var(--transition-speed-base) var(--transition-easing-ease-out); /* Use design tokens */
  white-space: nowrap; /* Prevent nav links from breaking onto multiple lines */
}
/* Focus-visible already handled globally for accessibility */
a:hover {
  color: var(--color-nav-link-hover);
  transform: scale(1.15);
}
a.is-active {
  /* Explicit class for active state */
  color: var(--color-nav-link-active);
  font-weight: 600; /* Emphasize active link */
  /* No transform on active to avoid jumpiness unless explicitly desired */
}
/* Removed redundant a:active. The :active pseudo-class is for the moment the user clicks,
   not the persistent active state, which should be handled by a class like `is-active`. */

.top-grid .right {
  width: 36vw; /* Consider fluid widths or flex-grow for better responsiveness */
  text-align: right;
  flex-shrink: 1; /* Allow to shrink if needed */
}

/* .galleries appears to be a placeholder or hidden element based on max-height:0 */
.galleries {
  max-height: 0; /* Keep as is if intended to be hidden/collapsed by default */
  overflow: hidden; /* Ensure content is hidden */
  transition: max-height var(--transition-speed-base) var(--transition-easing-ease-out); /* Add transition for future expansion */
}

/* =========================================
   Slideshow â€” Hardened Overrides
   ========================================= */
.slideshow [data-role='stage'] {
  position: relative;
  aspect-ratio: 16 / 9;
  min-height: 320px;
  background: var(--color-navajo-white-dark); /* Using more specific background color, or paper */
  overflow: hidden;
  border-radius: var(--border-radius-medium);
  box-shadow: 0 4px 8px rgb(0 0 0 / 0.1);
  display: grid;
  place-items: center;
}
.slideshow [data-role='stage'] img {
  /* These !important declarations are for "hardening" specific behavior,
       which is sometimes needed for complex components or third-party integrations.
       Ensure they are genuinely necessary and not just fighting specificity. */
  position: absolute !important;
  inset: 0 !important;
  display: block !important;
  width: 100% !important;
  height: 100% !important;
  min-width: 1px !important;
  min-height: 1px !important;
  object-fit: contain !important;
  opacity: 0;
  transition: var(--transition-opacity); /* Use design token */
}

.slideshow [data-role='caption-wrap'] {
  position: static; /* Redundant if not overriding another position */
  text-align: center;
  padding: var(--spacing-sm) 0; /* Use design token */
  color: var(--color-ink-muted); /* Use design token */
  font-style: italic;
}

/* This is a bit too broad. If you only want `a` tags in `.mid` to behave this way, keep it.
   Otherwise, define a specific class for navigation links. */
.mid a {
  min-width: 20vw; /* This might be too wide on very large screens or too small on small screens. Consider `min-content` or `flex-grow` on the parent. */
  text-align: center;
}

/* Add a new class for navigation links */
.nav-link {
  min-width: 20vw; /* This might be too wide on very large screens or too small on small screens. Consider `min-content` or `flex-grow` on the parent. */
  text-align: center;
}

/* Add a new class for navigation links */
.nav-link:hover {
  color: var(--color-primary); /* Use design token */
}

/* Add a new class for navigation links */
.nav-link:focus {
  outline: 2px solid var(--color-primary); /* Use design token */
}

 :root {
    --color-ink: #333; /* Example color */
    --max-width-wide: clamp(16rem, 90vw, 1200px);
    --max-width-narrow: 80ch;
}

section {
    font-family: Arial, sans-serif;
    color: var(--color-ink);
    line-height: 1.6;
    margin: 2rem;
    max-width: var(--max-width-wide);
    margin-left: auto;
    margin-right: auto;
}

p {
    margin-bottom: 1em;
    max-width: var(--max-width-narrow);
}

p::first-letter {
    font-family: 'Bonheur Royale', cursive;
    font-size: 5.5em; /* Increased size for more impact */
    color: var(--color-ink);
    float: left;
    margin-right: 0.1em;
    line-height: 0.7; /* Adjusted line-height to pull it up slightly, allowing more open space below */
    padding-right: 5px;
    padding-bottom: 5px;
    /* Adding a slight top margin or vertical-align if further fine-tuning is needed */
    position: relative; /* Allows for more precise positioning */
    top: 0.05em; /* Nudge it down a little */
}

h2 {
    font-family: 'Bonheur Royale', cursive;
    color: var(--color-ink);
    margin-top: 2em;
}

strong {
    font-weight: bold;
}
